<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="-34 -36 240 320">
 <title>Arithmetic progression</title>
 <desc>Visual proof of the derivation of arithmetic progression formulas by CMG Lee. The faded blocks are a rotated copy of the arithmetic progression.</desc>
 <defs>
  <rect id="a0" x="-5" y="-7" width="30" height="14" fill="#ff9900"/>
  <rect id="d" x="-5" y="-7" width="20" height="14"/>
  <g id="d0"><use xlink:href="#d" fill="#ff0000"/></g>
  <g id="d1"><use xlink:href="#d" fill="#cc0000"/></g>
  <g id="d2">
   <use xlink:href="#d0"/>
   <use xlink:href="#d1" transform="translate(20)"/>
  </g>
  <g id="all" stroke="#660000" stroke-width="0.5">
   <g transform="translate(0,  0)"><use xlink:href="#a0"/></g>
   <g transform="translate(0, 20)"><use xlink:href="#a0"/><use xlink:href="#d0" transform="translate(30)"/></g>
   <g transform="translate(0, 40)"><use xlink:href="#a0"/><use xlink:href="#d2" transform="translate(30)"/></g>
   <g transform="translate(0, 60)"><use xlink:href="#a0"/><use xlink:href="#d2" transform="translate(30)"/><use xlink:href="#d0" transform="translate(70)"/></g>
   <g transform="translate(0, 80)"><use xlink:href="#a0"/><use xlink:href="#d2" transform="translate(30)"/><use xlink:href="#d2" transform="translate(70)"/></g>
   <g transform="translate(0,100)"><use xlink:href="#a0"/><use xlink:href="#d2" transform="translate(30)"/><use xlink:href="#d2" transform="translate(70)"/><use xlink:href="#d0" transform="translate(110)"/></g>
   <g transform="translate(0,120)"><use xlink:href="#a0"/><use xlink:href="#d2" transform="translate(30)"/><use xlink:href="#d2" transform="translate(70)"/><use xlink:href="#d2" transform="translate(110)"/></g>
  </g>
  <text id="sn" transform="translate(20,92) scale(2)" x="0" y="0.6ex" font-style="italic" stroke-width="0.5" stroke="#ffffff" fill="#000000"><tspan>S</tspan><tspan dy="5" font-size="16">n</tspan></text>
  <path id="arrow" d="M 0,0 Q 4,4 8,4 Q 4,4 0,8 Q 4,4 0,0" fill="#000000"/>
  <marker id="marker_start" markerWidth="16" markerHeight="8" refX="11" refY="4" orient="auto"><use xlink:href="#arrow" transform="translate(16) scale(-1,1)"/></marker>
  <marker id="marker_end"   markerWidth="16" markerHeight="8" refX="5"  refY="4" orient="auto"><use xlink:href="#arrow"/></marker>
 </defs>
 <circle cx="0" cy="0" r="99999" fill="#ffffff"/>
 <g font-family="Helvetica,Arial,sans-serif" font-size="20" text-anchor="start"
    stroke-linecap="round" stroke-linejoin="round" stroke-width="1" stroke="none" fill="#000000">
  <use xlink:href="#all"/>
  <use xlink:href="#all" opacity="0.25" transform="translate(171,120) scale(-1)"/>
  <use xlink:href="#sn"/>
  <use xlink:href="#sn" opacity="0.25" transform="translate(81,-60)"/>
  <text transform="translate(-30,  0)" x="0" y="0.5ex"><tspan font-style="italic">a</tspan><tspan dy="5" font-size="16">1</tspan></text>
  <text transform="translate(-30, 20)" x="0" y="0.5ex"><tspan font-style="italic">a</tspan><tspan dy="5" font-size="16">2</tspan></text>
  <text transform="translate(-30, 40)" x="0" y="0.5ex"><tspan font-style="italic">a</tspan><tspan dy="5" font-size="16">3</tspan></text>
  <text transform="translate(-30,120)" x="0" y="0.5ex"><tspan font-style="italic">a</tspan><tspan dy="5" font-size="16" font-style="italic">n</tspan></text>
  <text transform="translate(-25, 90) rotate(-90)" x="0" y="0.5ex"><tspan>...</tspan></text>
  <path d="M 55,71 q 0,-35 40,-45 h -25 m 25,0 l -16,16" stroke-width="8" stroke="#0000ff" fill="none"/>
  <text transform="translate(190, 60)" x="0" y="0.6ex"><tspan font-style="italic">n</tspan></text>
  <text transform="translate( -1,-26)" x="0" y="0.6ex"><tspan font-style="italic">a</tspan><tspan dy="5" font-size="16">1</tspan></text>
  <text transform="translate( 30,-26)" x="0" y="0.6ex"><tspan font-style="italic">d</tspan></text>
  <text transform="translate( 50,-26)" x="0" y="0.6ex"><tspan font-style="italic">d</tspan></text>
  <text transform="translate( 90,-26)" x="0" y="0.6ex"><tspan>...</tspan></text>
  <text transform="translate(130,-26)" x="0" y="0.6ex"><tspan font-style="italic">d</tspan></text>
  <text transform="translate( 50,144)" x="0" y="0.6ex"><tspan>(</tspan><tspan dx="1" font-style="italic">n</tspan><tspan>&#8722;1)</tspan><tspan dx="2" font-style="italic">d</tspan></text>
  <text transform="translate(  0,142)" x="0" y="0.6ex"><tspan font-style="italic">a</tspan><tspan dy="5" font-size="16">1</tspan></text>
  <text transform="translate(150,142)" x="0" y="0.6ex" opacity="0.3"><tspan font-style="italic">a</tspan><tspan dy="5" font-size="16">1</tspan></text>
  <text transform="translate(150,168)" x="0" y="0.6ex" opacity="0.3"><tspan font-style="italic">a</tspan><tspan dy="5" font-size="16">1</tspan></text>
  <text transform="translate( 60,168)" x="0" y="0.6ex"><tspan font-style="italic">a</tspan><tspan dy="5" font-size="16" font-style="italic">n</tspan></text>
  <g marker-start="url(#marker_start)" marker-end="url(#marker_end)" stroke="#000000">
   <path d="M 185, -5 v 130"/>
   <path d="M  -3,-13 h  26"/>
   <path d="M  27,-13 h  16"/>
   <path d="M  47,-13 h  16"/>
   <path d="M 127,-13 h  16"/>
   <path d="M  -3,133 h  26"/>
   <path d="M  27,133 h 116"/>
   <path d="M 147,133 h  26" opacity="0.3"/>
   <path d="M 147,160 h  26" opacity="0.3"/>
   <path d="M  -3,160 h 146"/>
  </g>
  <text transform="translate(-9,215)" x="0" y="0.6ex" font-style="italic"><tspan>S</tspan><tspan dy="5" font-size="16">n</tspan></text>
  <text transform="translate(20,215)" x="0" y="0.6ex"><tspan>=</tspan></text>
  <text transform="translate(20,262)" x="0" y="0.6ex"><tspan>=</tspan></text>
  <text transform="translate(40,207)" x="0" y="0"><tspan font-style="italic">n</tspan><tspan dx="2">(</tspan><tspan font-style="italic">a</tspan><tspan dy="5" font-size="16">1</tspan><tspan dy="-5">+</tspan><tspan font-style="italic">a</tspan><tspan dy="5" font-size="16" font-style="italic">n</tspan><tspan dy="-5">)</tspan><tspan x="0" dy="4">_______</tspan><tspan x="33" dy="1em">2</tspan></text>
  <text transform="translate(40,255)" x="0" y="0"><tspan font-style="italic">n</tspan><tspan dx="2">[2</tspan><tspan font-style="italic">a</tspan><tspan dy="5" font-size="16">1</tspan><tspan dy="-5">+(</tspan><tspan font-style="italic">n</tspan><tspan>&#8722;1)</tspan><tspan dx="2" font-style="italic">d</tspan><tspan dx="2">]</tspan><tspan x="0" dy="4">____________</tspan><tspan x="52" dy="1em">2</tspan></text>
 </g>
</svg>
