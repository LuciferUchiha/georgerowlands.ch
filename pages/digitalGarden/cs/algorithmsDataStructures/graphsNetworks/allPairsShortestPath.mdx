# All Pairs Shortest Path

We have seen that to find the shortest path between two vertices $s$ and $t$ the time complexity is the same as for finding all of the shortest 
paths starting at $s$. This is called single source shortest path problem as we just have the single source $s$ or one-to-all shortest path problem.
But what if we want to find the shortest path between all pairs of vertices in a graph? This is called the all pairs shortest path problem. 

One simple idea to solve this problem is to just run a shortest path algorithm starting at each vertex in the graph.

| Weights | Algorithm | one-to-all | all-to-all |
|---------|-----------|------------|------------|
| Same positive weight or no weight | BFS | $O(m + n)$ | $O(n(m + n))$ |
| Non-negative weights | Dijkstra with Fibonacci Heap | $O(m + n \log n)$ | $O(n(m + n \log n))$ |
| Real weights | Bellman-Ford | $O(mn)$ | $O(n^2m)$ |
| Real weights | Floyd-Warshall | - | $O(n^3)$ |
| Real weights | Johnson | - | $O(n(m + n \log n))$ |

Important for the Bellman-Ford algorithm is that it can handle negative weights but not negative cycles. If there is a negative cycle in the graph 
then we say that there is no shortest path between the vertices in the graph.

The goal is now to find the shortest path between all pairs of vertices in a graph with real weights in less than $O(n^m)$ time.

## Floyd-Warshall Algorithm

## Johnson's Algorithm

Johnson's idea was to be able to use Dijkstra's algorithm for the all pairs shortest path problem for graphs with real weights. The idea is 
to transform the graph so that all the weights are non-negative without changing the shortest path between the vertices and then run Dijkstra's 
algorithm for each vertex in the graph.

The first transformation I would come up with to make all the weights non-negative is to find the edge with the smallest weight and then add 
the absolute value of that weight to all the edges in the graph. This would make all the weights non-negative. The question is if this 
transformation would change the shortest path between the vertices. The answer is unfortunately yes. If we have a path between two vertices

